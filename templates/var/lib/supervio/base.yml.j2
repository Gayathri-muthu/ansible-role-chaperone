---
- Prepare:
  - "Management vCenter":
    - "Host Access":
      - "vCenter Host":
        - id: mgmt_vc
          name: "vCenter Hostname"
          default: "localhost"
          show: "name, optional"
          optional: 0
          help: "DNS Resolvable name or IP Address"
          options: mgmt_vc
      - Credentials:
        - id: mgmt_vc_username
          name: "User ID"
          default: "root"
          show: "name, optional"
          optional: 0
          help: "vCenter Administrator User"
          options: mgmt_vc_username
        - id: mgmt_vc_password
          name: "Password"
          show: "name, optional"
          optional: 0
          help: "vCenter Administrator User Password"
          options: mgmt_vc_password
    - "Resources":
      - Datacenter:
        - id: mgmt_vc_datacenter
          name: "Virtual Datacenter"
          show: "name, optional"
          optional: 0
          input: dropdown
          help: "Datacenter in which to place OMS and Managment Servers"
          options: mgmt_vc_datacenter
        - id: mgmt_vc_cluster
          name: "vCenter Cluster"
          show: "name, optional"
          optional: 0
          input: dropdown
          help: "vCenter Cluster to use for OpenStack Management servers"
          options: mgmt_vc_cluster
        - id: mgmt_vc_hosts
          name: "Hosts"
          show: "name, optional"
          optional: 0
          input: dropdown
          help: "Hosts in Cluster?"
          options: mgmt_vc_hosts
      - Storage:
        - id: mgmt_vc_datastores
          name: "Datastores"
          show: "name, optional"
          optional: 0
          input: checkbox
          help: "Data stores to use for Nova Store"
          options: mgmt_vc_datastores
      - Network:
        - id: mgmt_vc_networks
          name: "Networks"
          show: "name, optional"
          optional: 0
          input: dropdown
          help: "Networks for Compute Instances"
          options: mgmt_vc_networks
  - "Compute vCenter":
    - "Host Access":
      - "vCenter Host":
        - id: comp_vc
          name: "vCenter Hostname"
          default: "localhost"
          show: "name, optional"
          optional: 0
          help: "DNS Resolvable name or IP Address"
          options: comp_vc
      - Credentials:
        - id: comp_vc_username
          name: "User ID"
          default: "root"
          show: "name, optional"
          optional: 0
          help: "vCenter Administrator User"
          options: comp_vc_username
        - id: comp_vc_password
          name: "Password"
          show: "name, optional"
          optional: 0
          help: "vCenter Administrator User Password"
          options: comp_vc_password
    - Resources:
      - Datacenter:
        - id: comp_vc_datacenter
          name: "Virtual Datacenter"
          show: "name, optional"
          optional: 0
          input: dropdown
          help: "Datacenter in which to place OMS and Managment Servers"
          options: comp_vc_datacenter
        - id: comp_vc_cluster
          name: "vCenter Cluster"
          show: "name, optional"
          optional: 0
          input: dropdown
          help: "vCenter Cluster to use for OpenStack Management servers"
          options: comp_vc_cluster
        - id: comp_vc_hosts
          name: "Hosts"
          show: "name, optional"
          optional: 0
          input: dropdown
          help: "Hosts in Cluster?"
          options: comp_vc_hosts
      - Storage:
        - id: comp_vc_datastores
          name: "Datastores"
          show: "name, optional"
          input: checkbox
          optional: 0
          input: dropdown
          help: "Data stores to use for Nova Store"
          options: comp_vc_datastores
      - Network:
        - id: comp_vc_networks
          name: "Networks"
          show: "name, optional"
          optional: 0
          input: dropdown
          help: "Networks for Compute Instances"
          options: comp_vc_networks

- SDDC:
  - Install:
    - id: install_datacenter
      name: "Create vSphere Datacenter"
      commands:
        - "/opt/supervio/supervio_play site_dc.yml"
    - id: install_autodeploy
      name: "Configure Autodeploy"
      commands:
        - "/opt/supervio/supervio_play site_autodeploy.yml"
    - id: install_dhcp
      name: "Enable TFTP and DHCP Services"
      commands:
        - "/opt/supervio/supervio_play site_dhcpd.yml"
    - id: nsx_ova_deploy
      name: "Deoploy NSX to vsphere Configure NSX manager"
      commands:
        - "/opt/supervio/supervio_play site_nsx.yml"
- VIO:
  - "Install NSX":
    - id: install_nsx
      name: "Install and Configure NSX Manager"
      commands:
        - "/opt/supervio/supervio_play site_nsx.yml"
    - id: install_vio
      name: "Deploy VIO"
      commands:
        - "/opt/supervio/supervio_play site_vio.yml"
